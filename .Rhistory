formulaLong2 = f_albumin,
dataLong = pbcLong,
id_var = "id",
time_varLong = "year",
formulaEvent = f_Event,
dataEvent = pbcSurv,
assoc = "CV",
a_K = 4,
basehaz = "bs",
basehaz_aux = list(df = 6,
knots = NULL,
degree = 3),
qnodes = 15L,
prior_list = prior_input,
cores = 2,
chains = 2,
warmup = 1000,
iter = 2000,
control = list(max_treedepth = 15))
fit_jmwiv <- jmwiv_stan(formulaLong1 = f_logBili,
formulaLong2 = f_albumin,
dataLong = pbcLong,
id_var = "id",
time_varLong = "year",
formulaEvent = f_Event,
dataEvent = pbcSurv,
assoc = "CV",
a_K = 4,
basehaz = "bs",
basehaz_aux = list(df = 6,
knots = NULL,
degree = 3),
qnodes = 15L,
prior_list = prior_input,
cores = 2,
chains = 2,
warmup = 1000,
iter = 2000,
control = list(max_treedepth = 15))
library("rstanjmwiv")
fit_jmwiv <- jmwiv_stan(formulaLong1 = f_logBili,
formulaLong2 = f_albumin,
dataLong = pbcLong,
id_var = "id",
time_varLong = "year",
formulaEvent = f_Event,
dataEvent = pbcSurv,
assoc = "CV",
a_K = 4,
basehaz = "bs",
basehaz_aux = list(df = 6,
knots = NULL,
degree = 3),
qnodes = 15L,
prior_list = prior_input,
cores = 2,
chains = 2,
warmup = 1000,
iter = 2000,
control = list(max_treedepth = 15))
library(dplyr)
fit_jmwiv <- jmwiv_stan(formulaLong1 = f_logBili,
formulaLong2 = f_albumin,
dataLong = pbcLong,
id_var = "id",
time_varLong = "year",
formulaEvent = f_Event,
dataEvent = pbcSurv,
assoc = "CV",
a_K = 4,
basehaz = "bs",
basehaz_aux = list(df = 6,
knots = NULL,
degree = 3),
qnodes = 15L,
prior_list = prior_input,
cores = 2,
chains = 2,
warmup = 1000,
iter = 2000,
control = list(max_treedepth = 15))
library("rstanjmwiv")
fit_jmwiv <- jmwiv_stan(formulaLong1 = f_logBili,
formulaLong2 = f_albumin,
dataLong = pbcLong,
id_var = "id",
time_varLong = "year",
formulaEvent = f_Event,
dataEvent = pbcSurv,
assoc = "CV",
a_K = 4,
basehaz = "bs",
basehaz_aux = list(df = 6,
knots = NULL,
degree = 3),
qnodes = 15L,
prior_list = prior_input,
cores = 2,
chains = 2,
warmup = 1000,
iter = 2000,
control = list(max_treedepth = 15))
library("rstanjmwiv")
fit_jmwiv <- jmwiv_stan(formulaLong1 = f_logBili,
formulaLong2 = f_albumin,
dataLong = pbcLong,
id_var = "id",
time_varLong = "year",
formulaEvent = f_Event,
dataEvent = pbcSurv,
assoc = "CV",
a_K = 4,
basehaz = "bs",
basehaz_aux = list(df = 6,
knots = NULL,
degree = 3),
qnodes = 15L,
prior_list = prior_input,
cores = 2,
chains = 2,
warmup = 1000,
iter = 2000,
control = list(max_treedepth = 15))
library("rstanjmwiv")
fit_jmwiv <- jmwiv_stan(formulaLong1 = f_logBili,
formulaLong2 = f_albumin,
dataLong = pbcLong,
id_var = "id",
time_varLong = "year",
formulaEvent = f_Event,
dataEvent = pbcSurv,
assoc = "CV",
a_K = 4,
basehaz = "bs",
basehaz_aux = list(df = 6,
knots = NULL,
degree = 3),
qnodes = 15L,
prior_list = prior_input,
cores = 2,
chains = 2,
warmup = 1000,
iter = 2000,
control = list(max_treedepth = 15))
install.packages("../rstanjmwiv", repos = NULL, type = "source")
library(rstanjmwiv)
fit_jmwiv <- jmwiv_stan(formulaLong1 = f_logBili,
formulaLong2 = f_albumin,
dataLong = pbcLong,
id_var = "id",
time_varLong = "year",
formulaEvent = f_Event,
dataEvent = pbcSurv,
assoc = "CV",
a_K = 4,
basehaz = "bs",
basehaz_aux = list(df = 6,
knots = NULL,
degree = 3),
qnodes = 15L,
prior_list = prior_input,
cores = 2,
chains = 2,
warmup = 1000,
iter = 2000,
control = list(max_treedepth = 15))
fit_jmwiv <- jmwiv_stan(formulaLong1 = f_logBili,
formulaLong2 = f_albumin,
dataLong = pbcLong,
id_var = "id",
time_varLong = "year",
formulaEvent = f_Event,
dataEvent = pbcSurv,
assoc = "CV",
a_K = 4,
basehaz = "bs",
basehaz_aux = list(df = 6,
knots = NULL,
degree = 3),
qnodes = 15L,
prior_list = prior_input,
cores = 2,
chains = 2,
warmup = 1000,
iter = 2000,
control = list(max_treedepth = 15))
library(rstanjmwiv)
install.packages("../rstanjmwiv", repos = NULL, type = "source")
library(rstanjmwiv)
library(rstanarm)
f_logBili <- list(formula(logBili ~ sex + trt + year + (1 | id)),
formula(sigma ~ sex + trt + year + (1 | id)))
f_albumin <- list(formula(albumin ~ sex + trt + year + (1 | id)),
formula(sigma ~ sex + trt + year + (1 | id)))
f_Event <- survival::Surv(futimeYears, death) ~ sex + trt
prior_input <- list(b_prior_scale = rep(1, 4),
b_prior_df = rep(1, 4),
b_prior_regularization = 5)
fit_jmwiv <- jmwiv_stan(formulaLong1 = f_logBili,
formulaLong2 = f_albumin,
dataLong = pbcLong,
id_var = "id",
time_varLong = "year",
formulaEvent = f_Event,
dataEvent = pbcSurv,
assoc = "CV",
a_K = 4,
basehaz = "bs",
basehaz_aux = list(df = 6,
knots = NULL,
degree = 3),
qnodes = 15L,
prior_list = prior_input,
cores = 2,
chains = 2,
warmup = 1000,
iter = 2000,
control = list(max_treedepth = 15))
#'                          basehaz_aux = list(df = 6,
#'                                             knots = NULL,
#'                                             degree = 3),
#'                          qnodes = 15L,
#'                          prior_list = prior_input,
#'                          cores = 2,
#'                          chains = 2,
#'                          warmup = 1000,
#'                          iter = 2000,
#'                          control = list(max_treedepth = 15))
jmwiv_stan <- function(formulaLong1,
formulaLong2 = NULL,
dataLong,
id_var,
time_varLong,
formulaEvent,
dataEvent,
assoc,
a_K = 4,
basehaz = "bs",
basehaz_aux = list(df = 6,
knots = NULL,
degree = 3),
qnodes = 15L,
prior_list = NULL,
...){
standata <- make_standata_jmwiv(formulaLong1 = formulaLong1,
formulaLong2 = formulaLong2,
dataLong = dataLong,
id_var = id_var,
time_varLong = time_varLong,
formulaEvent = formulaEvent,
dataEvent = dataEvent,
assoc = assoc,
a_K = a_K,
basehaz = basehaz,
basehaz_aux = basehaz_aux,
qnodes = qnodes,
prior_list = prior_list)
out <- rstan::sampling(stanmodels$jmwiv, data = standata, ...)
return(out)
}
fit_jmwiv <- jmwiv_stan(formulaLong1 = f_logBili,
formulaLong2 = f_albumin,
dataLong = pbcLong,
id_var = "id",
time_varLong = "year",
formulaEvent = f_Event,
dataEvent = pbcSurv,
assoc = "CV",
a_K = 4,
basehaz = "bs",
basehaz_aux = list(df = 6,
knots = NULL,
degree = 3),
qnodes = 15L,
prior_list = prior_input,
cores = 2,
chains = 2,
warmup = 1000,
iter = 2000,
control = list(max_treedepth = 15))
try(roxygen2::roxygenize(load_code = rstantools_load_code), silent = TRUE)
roxygen2::roxygenize()
install.packages("../rstanjmwiv", repos = NULL, type = "source")
fit_jmwiv <- jmwiv_stan(formulaLong1 = f_logBili,
formulaLong2 = f_albumin,
dataLong = pbcLong,
id_var = "id",
time_varLong = "year",
formulaEvent = f_Event,
dataEvent = pbcSurv,
assoc = "CV",
a_K = 4,
basehaz = "bs",
basehaz_aux = list(df = 6,
knots = NULL,
degree = 3),
qnodes = 15L,
prior_list = prior_input,
cores = 2,
chains = 2,
warmup = 1000,
iter = 2000,
control = list(max_treedepth = 15))
fit_jmwiv <- jmwiv_stan(formulaLong1 = f_logBili,
formulaLong2 = f_albumin,
dataLong = pbcLong,
id_var = "id",
time_varLong = "year",
formulaEvent = f_Event,
dataEvent = pbcSurv,
assoc = "CV",
a_K = 4,
basehaz = "bs",
basehaz_aux = list(df = 6,
knots = NULL,
degree = 3),
qnodes = 15L,
prior_list = prior_input,
cores = 2,
chains = 2,
warmup = 1000,
iter = 2000,
control = list(max_treedepth = 15))
try(roxygen2::roxygenize(load_code = rstantools_load_code), silent = TRUE)
roxygen2::roxygenize()
install.packages("../rstanjmwiv", repos = NULL, type = "source")
fit_jmwiv <- jmwiv_stan(formulaLong1 = f_logBili,
formulaLong2 = f_albumin,
dataLong = pbcLong,
id_var = "id",
time_varLong = "year",
formulaEvent = f_Event,
dataEvent = pbcSurv,
assoc = "CV",
a_K = 4,
basehaz = "bs",
basehaz_aux = list(df = 6,
knots = NULL,
degree = 3),
qnodes = 15L,
prior_list = prior_input,
cores = 2,
chains = 2,
warmup = 1000,
iter = 2000,
control = list(max_treedepth = 15))
try(roxygen2::roxygenize(load_code = rstantools_load_code), silent = TRUE)
roxygen2::roxygenize()
fit_jmwiv <- jmwiv_stan(formulaLong1 = f_logBili,
formulaLong2 = f_albumin,
dataLong = pbcLong,
id_var = "id",
time_varLong = "year",
formulaEvent = f_Event,
dataEvent = pbcSurv,
assoc = "CV",
a_K = 4,
basehaz = "bs",
basehaz_aux = list(df = 6,
knots = NULL,
degree = 3),
qnodes = 15L,
prior_list = prior_input,
cores = 2,
chains = 2,
warmup = 1000,
iter = 2000,
control = list(max_treedepth = 15))
install.packages("../rstanjmwiv", repos = NULL, type = "source")
try(roxygen2::roxygenize(load_code = rstantools_load_code), silent = TRUE)
roxygen2::roxygenize()
fit_jmwiv <- jmwiv_stan(formulaLong1 = f_logBili,
formulaLong2 = f_albumin,
dataLong = pbcLong,
id_var = "id",
time_varLong = "year",
formulaEvent = f_Event,
dataEvent = pbcSurv,
assoc = "CV",
a_K = 4,
basehaz = "bs",
basehaz_aux = list(df = 6,
knots = NULL,
degree = 3),
qnodes = 15L,
prior_list = prior_input,
cores = 2,
chains = 2,
warmup = 1000,
iter = 2000,
control = list(max_treedepth = 15))
try(roxygen2::roxygenize(load_code = rstantools_load_code), silent = TRUE)
roxygen2::roxygenize()
fit_jmwiv <- jmwiv_stan(formulaLong1 = f_logBili,
formulaLong2 = f_albumin,
dataLong = pbcLong,
id_var = "id",
time_varLong = "year",
formulaEvent = f_Event,
dataEvent = pbcSurv,
assoc = "CV",
a_K = 4,
basehaz = "bs",
basehaz_aux = list(df = 6,
knots = NULL,
degree = 3),
qnodes = 15L,
prior_list = prior_input,
cores = 2,
chains = 2,
warmup = 1000,
iter = 2000,
control = list(max_treedepth = 15))
install.packages("../rstanjmwiv", repos = NULL, type = "source")
fit_jmwiv <- jmwiv_stan(formulaLong1 = f_logBili,
formulaLong2 = f_albumin,
dataLong = pbcLong,
id_var = "id",
time_varLong = "year",
formulaEvent = f_Event,
dataEvent = pbcSurv,
assoc = "CV",
a_K = 4,
basehaz = "bs",
basehaz_aux = list(df = 6,
knots = NULL,
degree = 3),
qnodes = 15L,
prior_list = prior_input,
cores = 2,
chains = 2,
warmup = 1000,
iter = 2000,
control = list(max_treedepth = 15))
try(roxygen2::roxygenize(load_code = rstantools_load_code), silent = TRUE)
roxygen2::roxygenize()
install.packages("../rstanjmwiv", repos = NULL, type = "source")
fit_jmwiv <- jmwiv_stan(formulaLong1 = f_logBili,
formulaLong2 = f_albumin,
dataLong = pbcLong,
id_var = "id",
time_varLong = "year",
formulaEvent = f_Event,
dataEvent = pbcSurv,
assoc = "CV",
a_K = 4,
basehaz = "bs",
basehaz_aux = list(df = 6,
knots = NULL,
degree = 3),
qnodes = 15L,
prior_list = prior_input,
cores = 2,
chains = 2,
warmup = 1000,
iter = 2000,
control = list(max_treedepth = 15))
??nlist
?nlist
try(roxygen2::roxygenize(load_code = rstantools_load_code), silent = TRUE)
roxygen2::roxygenize()
install.packages("../rstanjmwiv", repos = NULL, type = "source")
fit_jmwiv <- jmwiv_stan(formulaLong1 = f_logBili,
formulaLong2 = f_albumin,
dataLong = pbcLong,
id_var = "id",
time_varLong = "year",
formulaEvent = f_Event,
dataEvent = pbcSurv,
assoc = "CV",
a_K = 4,
basehaz = "bs",
basehaz_aux = list(df = 6,
knots = NULL,
degree = 3),
qnodes = 15L,
prior_list = prior_input,
cores = 2,
chains = 2,
warmup = 1000,
iter = 2000,
control = list(max_treedepth = 15))
try(roxygen2::roxygenize(load_code = rstantools_load_code), silent = TRUE)
roxygen2::roxygenize()
try(roxygen2::roxygenize(load_code = rstantools_load_code), silent = TRUE)
roxygen2::roxygenize()
fit_jmwiv <- jmwiv_stan(formulaLong1 = f_logBili,
formulaLong2 = f_albumin,
dataLong = pbcLong,
id_var = "id",
time_varLong = "year",
formulaEvent = f_Event,
dataEvent = pbcSurv,
assoc = "CV",
a_K = 4,
basehaz = "bs",
basehaz_aux = list(df = 6,
knots = NULL,
degree = 3),
qnodes = 15L,
prior_list = prior_input,
cores = 2,
chains = 2,
warmup = 1000,
iter = 2000,
control = list(max_treedepth = 15))
try(roxygen2::roxygenize(load_code = rstantools_load_code), silent = TRUE)
roxygen2::roxygenize()
try(roxygen2::roxygenize(load_code = rstantools_load_code), silent = TRUE)
roxygen2::roxygenize()
try(roxygen2::roxygenize(load_code = rstantools_load_code), silent = TRUE)
roxygen2::roxygenize()
